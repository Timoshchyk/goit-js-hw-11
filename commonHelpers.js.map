{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst userInput = document.querySelector('input');\nconst div = document.querySelector('.div');\n\nexport const formEl = {\n  form,\n  gallery,\n  userInput,\n  div,\n};\n\nexport const showLoader = () => {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  formEl.div.append(loader);\n};\n\nexport const hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n};\n\nexport function lightbox() {\n  const lightbox = new SimpleLightbox('.gallery a', options);\n  lightbox.refresh();\n}\nconst options = {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n};","import iziToast from 'izitoast';\nimport { hideLoader } from './render-functions';\nimport { lightbox } from './render-functions';\nimport { formEl } from './render-functions';\n\nexport function fetchApi() {\n  const input = formEl.userInput.value;\n  const apiKey = '42504350-b8e991836eb9e4a3650047e97';\n\n  fetch(\n    `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n      input.trim()\n    )}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(userData => {\n      if (userData.hits.length === 0) {\n        iziToast.error({\n          title: '',\n          backgroundColor: '#EF4040',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        const markup = userData.hits\n          .map(data => {\n            return `<li class=\"gallery-item\"><a href=\"${data.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n          <p><b>Likes: </b>${data.likes}</p>\n          <p><b>Views: </b>${data.views}</p>\n          <p><b>Comments: </b>${data.comments}</p>\n          <p><b>Downloads: </b>${data.downloads}</p>\n          </li>`;\n          })\n          .join('');\n        formEl.gallery.insertAdjacentHTML('afterbegin', markup);\n        lightbox();\n        form.reset();\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}","import 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { showLoader } from './js/render-functions';\nimport { fetchApi } from './js/pixabay-api';\nimport { formEl } from './js/render-functions';\n\nformEl.form.addEventListener('submit', event => {\n  event.preventDefault();\n  formEl.gallery.innerHTML = '';\n  showLoader();\n  fetchApi();\n});\n"],"names":["form","gallery","userInput","div","formEl","showLoader","loader","hideLoader","lightbox","SimpleLightbox","options","fetchApi","input","response","userData","iziToast","markup","data","error","event"],"mappings":"6vBACA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAM,SAAS,cAAc,MAAM,EAE5BC,EAAS,CACtB,KAAEJ,EACA,QAAAC,EACA,UAAAC,EACA,IAAAC,CACF,EAEaE,EAAa,IAAM,CAC9B,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAO,IAAI,OAAOE,CAAM,CAC1B,EAEaC,EAAa,IAAM,CAC9B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,EAEO,SAASE,GAAW,CACR,IAAIC,EAAe,aAAcC,CAAO,EAChD,QAAO,CAClB,CACA,MAAMA,EAAU,CACd,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,EChCO,SAASC,GAAW,CACzB,MAAMC,EAAQR,EAAO,UAAU,MAG/B,MACE,qEAA4C,mBAC1CQ,EAAM,KAAM,CACb,CAAA,0DACF,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAY,CAChB,GAAIA,EAAS,KAAK,SAAW,EAC3BC,EAAS,MAAM,CACb,MAAO,GACP,gBAAiB,UACjB,QACE,0EACZ,CAAS,MACI,CACL,MAAMC,EAASF,EAAS,KACrB,IAAIG,GACI,qCAAqCA,EAAK,aAAa;AAAA,4CAC9BA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA,6BACnDA,EAAK,KAAK;AAAA,6BACVA,EAAK,KAAK;AAAA,gCACPA,EAAK,QAAQ;AAAA,iCACZA,EAAK,SAAS;AAAA,gBAEpC,EACA,KAAK,EAAE,EACVb,EAAO,QAAQ,mBAAmB,aAAcY,CAAM,EACtDR,IACA,KAAK,MAAK,CACX,CACP,CAAK,EACA,MAAMU,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbX,GACN,CAAK,CACL,CC7CAH,EAAO,KAAK,iBAAiB,SAAUe,GAAS,CAC9CA,EAAM,eAAc,EACpBf,EAAO,QAAQ,UAAY,GAC3BC,IACAM,GACF,CAAC"}